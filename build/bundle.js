!function(){"use strict";function t(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function e(){}function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function l(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let m;function $(t){m=t}const y=[],b=[],x=[],_=[],k=Promise.resolve();let v=!1;function w(t){x.push(t)}let M=!1;const E=new Set;function N(){if(!M){M=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];$(e),j(e.$$)}for($(null),y.length=0;b.length;)b.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];E.has(e)||(E.add(e),e())}x.length=0}while(y.length);for(;_.length;)_.pop()();v=!1,M=!1,E.clear()}}function j(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(w)}}const R=new Set;function A(t,e){-1===t.$$.dirty[0]&&(y.push(t),v||(v=!0,k.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(t,c,u,s,f,a,d=[-1]){const h=m;$(t);const g=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:f,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:c.context||[]),callbacks:o(),dirty:d,skip_bound:!1};let p=!1;if(g.ctx=u?u(t,c.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return g.ctx&&f(g.ctx[e],g.ctx[e]=r)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](r),p&&A(t,e)),n})):[],g.update(),p=!0,r(g.before_update),g.fragment=!!s&&s(g.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);g.fragment&&g.fragment.l(t),t.forEach(i)}else g.fragment&&g.fragment.c();c.intro&&((y=t.$$.fragment)&&y.i&&(R.delete(y),y.i(b))),function(t,e,o,c){const{fragment:u,on_mount:s,on_destroy:i,after_update:f}=t.$$;u&&u.m(e,o),c||w((()=>{const e=s.map(n).filter(l);i?i.push(...e):r(e),t.$$.on_mount=[]})),f.forEach(w)}(t,c.target,c.anchor,c.customElement),N()}var y,b;$(h)}function T(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let o=-1;for(let r of t)(r=+e(r,++o,t))&&(n+=r)}return n}function O(t,e,n){const o=t.slice();return o[2]=e[n],o}function S(t,e,n){const o=t.slice();return o[5]=e[n].Fonction,o[6]=e[n].MtReal,o[7]=e[n].Nature,o}function q(t){let e,n,o,r,l,c,f,g,m,$,y,b=t[7]+"",x=t[5]+"",_=t[6].toFixed(2)+"";return{c(){e=a("tr"),n=a("td"),o=d(b),r=h(),l=a("td"),c=d(x),f=h(),g=a("td"),m=d(_),$=d("â‚¬"),y=h()},m(t,i){s(t,e,i),u(e,n),u(n,o),u(e,r),u(e,l),u(l,c),u(e,f),u(e,g),u(g,m),u(g,$),u(e,y)},p(t,e){1&e&&b!==(b=t[7]+"")&&p(o,b),1&e&&x!==(x=t[5]+"")&&p(c,x),1&e&&_!==(_=t[6].toFixed(2)+"")&&p(m,_)},d(t){t&&i(e)}}}function C(t){let e,n,o,r,l,c,m,$,y,b,x,_,k=t[2].name+"",v=t[2].elements.length+"",w=t[2].elements,M=[];for(let e=0;e<w.length;e+=1)M[e]=q(S(t,w,e));return{c(){e=a("section"),n=a("h2"),o=d(k),r=d(" ("),l=d(v),c=d(")"),m=h(),$=a("table"),y=a("thead"),y.innerHTML="<tr><th>Nature</th> \n\t\t\t\t\t<th>Fonction</th> \n\t\t\t\t\t<th>Montant</th></tr>",b=h(),x=a("tbody");for(let t=0;t<M.length;t+=1)M[t].c();_=h(),g(n,"class","svelte-65ftti"),g(e,"class","svelte-65ftti")},m(t,i){s(t,e,i),u(e,n),u(n,o),u(n,r),u(n,l),u(n,c),u(e,m),u(e,$),u($,y),u($,b),u($,x);for(let t=0;t<M.length;t+=1)M[t].m(x,null);u(e,_)},p(t,e){if(1&e&&k!==(k=t[2].name+"")&&p(o,k),1&e&&v!==(v=t[2].elements.length+"")&&p(l,v),1&e){let n;for(w=t[2].elements,n=0;n<w.length;n+=1){const o=S(t,w,n);M[n]?M[n].p(o,e):(M[n]=q(o),M[n].c(),M[n].m(x,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=w.length}},d(t){t&&i(e),f(M,t)}}}function B(t){let n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=C(O(t,o,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=d("")},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);s(t,n,e)},p(t,[e]){if(1&e){let l;for(o=t[0],l=0;l<o.length;l+=1){const c=O(t,o,l);r[l]?r[l].p(c,e):(r[l]=C(c),r[l].c(),r[l].m(n.parentNode,n))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}},i:e,o:e,d(t){f(r,t),t&&i(n)}}}function H(t,e,n){let o,{groupes:r}=e;return t.$$set=t=>{"groupes"in t&&n(1,r=t.groupes)},t.$$.update=()=>{2&t.$$.dirty&&n(0,o=r.map((({name:t,elements:e})=>{const n=T(e.map((t=>t.MtReal))),o=e.sort((({MtReal:t},{MtReal:e})=>e-t)),r=o.findIndex(((t,e)=>T(o.slice(0,e).map((t=>t.MtReal)))>=.95*n));return{name:t,elements:o.slice(0,r)}})))},[o,r]}class I extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),F(this,t,H,B,c,{groupes:1})}}(function(e,n){return fetch(e,n).then(t)})("./data/gironde-finance-data.json").then((t=>{console.log("data",t);const e=t.aggregations.find((t=>2019===t.year)).aggregation.children;console.log("data2019",e),new I({target:document.querySelector(".svelte-main"),props:{groupes:e}})}))}();
//# sourceMappingURL=bundle.js.map
